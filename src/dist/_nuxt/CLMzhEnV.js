import{a9 as Jr,aa as G}from"./CdEF7n17.js";var en={},Ie={},Fe={},br={exports:{}};const tn={},rn=Object.freeze(Object.defineProperty({__proto__:null,default:tn},Symbol.toStringTag,{value:"Module"})),H=Jr(rn);var Cr={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(p,f,i){this.fn=p,this.context=f,this.once=i||!1}function s(p,f,i,c,l){if(typeof i!="function")throw new TypeError("The listener must be a function");var v=new o(i,c||p,l),_=r?r+f:f;return p._events[_]?p._events[_].fn?p._events[_]=[p._events[_],v]:p._events[_].push(v):(p._events[_]=v,p._eventsCount++),p}function a(p,f){--p._eventsCount===0?p._events=new n:delete p._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],i,c;if(this._eventsCount===0)return f;for(c in i=this._events)t.call(i,c)&&f.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(i)):f},u.prototype.listeners=function(f){var i=r?r+f:f,c=this._events[i];if(!c)return[];if(c.fn)return[c.fn];for(var l=0,v=c.length,_=new Array(v);l<v;l++)_[l]=c[l].fn;return _},u.prototype.listenerCount=function(f){var i=r?r+f:f,c=this._events[i];return c?c.fn?1:c.length:0},u.prototype.emit=function(f,i,c,l,v,_){var h=r?r+f:f;if(!this._events[h])return!1;var R=this._events[h],E=arguments.length,O,m;if(R.fn){switch(R.once&&this.removeListener(f,R.fn,void 0,!0),E){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,i),!0;case 3:return R.fn.call(R.context,i,c),!0;case 4:return R.fn.call(R.context,i,c,l),!0;case 5:return R.fn.call(R.context,i,c,l,v),!0;case 6:return R.fn.call(R.context,i,c,l,v,_),!0}for(m=1,O=new Array(E-1);m<E;m++)O[m-1]=arguments[m];R.fn.apply(R.context,O)}else{var T=R.length,P;for(m=0;m<T;m++)switch(R[m].once&&this.removeListener(f,R[m].fn,void 0,!0),E){case 1:R[m].fn.call(R[m].context);break;case 2:R[m].fn.call(R[m].context,i);break;case 3:R[m].fn.call(R[m].context,i,c);break;case 4:R[m].fn.call(R[m].context,i,c,l);break;default:if(!O)for(P=1,O=new Array(E-1);P<E;P++)O[P-1]=arguments[P];R[m].fn.apply(R[m].context,O)}}return!0},u.prototype.on=function(f,i,c){return s(this,f,i,c,!1)},u.prototype.once=function(f,i,c){return s(this,f,i,c,!0)},u.prototype.removeListener=function(f,i,c,l){var v=r?r+f:f;if(!this._events[v])return this;if(!i)return a(this,v),this;var _=this._events[v];if(_.fn)_.fn===i&&(!l||_.once)&&(!c||_.context===c)&&a(this,v);else{for(var h=0,R=[],E=_.length;h<E;h++)(_[h].fn!==i||l&&!_[h].once||c&&_[h].context!==c)&&R.push(_[h]);R.length?this._events[v]=R.length===1?R[0]:R:a(this,v)}return this},u.prototype.removeAllListeners=function(f){var i;return f?(i=r?r+f:f,this._events[i]&&a(this,i)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Cr);var nn=Cr.exports,Be={},on=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0};(function(e){var t=e,r=H,n=H._extend,o=on,s=/(^|,)\s*upgrade\s*($|,)/i,a=/^https|wss/;t.isSSL=a,t.setupOutgoing=function(p,f,i,c){p.port=f[c||"target"].port||(a.test(f[c||"target"].protocol)?443:80),["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"].forEach(function(h){p[h]=f[c||"target"][h]}),p.method=f.method||i.method,p.headers=n({},i.headers),f.headers&&n(p.headers,f.headers),f.auth&&(p.auth=f.auth),f.ca&&(p.ca=f.ca),a.test(f[c||"target"].protocol)&&(p.rejectUnauthorized=typeof f.secure>"u"?!0:f.secure),p.agent=f.agent||!1,p.localAddress=f.localAddress,p.agent||(p.headers=p.headers||{},(typeof p.headers.connection!="string"||!s.test(p.headers.connection))&&(p.headers.connection="close"));var l=f[c||"target"],v=l&&f.prependPath!==!1&&l.path||"",_=f.toProxy?i.url:r.parse(i.url).path||"";return _=f.ignorePath?"":_,p.path=t.urlJoin(v,_),f.changeOrigin&&(p.headers.host=o(p.port,f[c||"target"].protocol)&&!u(p.host)?p.host+":"+p.port:p.host),p},t.setupSocket=function(p){return p.setTimeout(0),p.setNoDelay(!0),p.setKeepAlive(!0,0),p},t.getPort=function(p){var f=p.headers.host?p.headers.host.match(/:(\d+)/):"";return f?f[1]:t.hasEncryptedConnection(p)?"443":"80"},t.hasEncryptedConnection=function(p){return!!(p.connection.encrypted||p.connection.pair)},t.urlJoin=function(){var p=Array.prototype.slice.call(arguments),f=p.length-1,i=p[f],c=i.split("?"),l;return p[f]=c.shift(),l=[p.filter(Boolean).join("/").replace(/\/+/g,"/").replace("http:/","http://").replace("https:/","https://")],l.push.apply(l,c),l.join("?")},t.rewriteCookieProperty=function p(f,i,c){return Array.isArray(f)?f.map(function(l){return p(l,i,c)}):f.replace(new RegExp("(;\\s*"+c+"=)([^;]+)","i"),function(l,v,_){var h;if(_ in i)h=i[_];else if("*"in i)h=i["*"];else return l;return h?v+h:""})};function u(p){return!!~p.indexOf(":")}})(Be);var kt=H,Ut=Be,sn=/^201|30(1|2|7|8)$/;/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */var an={removeChunked:function(t,r,n){t.httpVersion==="1.0"&&delete n.headers["transfer-encoding"]},setConnection:function(t,r,n){t.httpVersion==="1.0"?n.headers.connection=t.headers.connection||"close":t.httpVersion!=="2.0"&&!n.headers.connection&&(n.headers.connection=t.headers.connection||"keep-alive")},setRedirectHostRewrite:function(t,r,n,o){if((o.hostRewrite||o.autoRewrite||o.protocolRewrite)&&n.headers.location&&sn.test(n.statusCode)){var s=kt.parse(o.target),a=kt.parse(n.headers.location);if(s.host!=a.host)return;o.hostRewrite?a.host=o.hostRewrite:o.autoRewrite&&(a.host=t.headers.host),o.protocolRewrite&&(a.protocol=o.protocolRewrite),n.headers.location=a.format()}},writeHeaders:function(t,r,n,o){var s=o.cookieDomainRewrite,a=o.cookiePathRewrite,u=o.preserveHeaderKeyCase,p,f=function(l,v){v!=null&&(s&&l.toLowerCase()==="set-cookie"&&(v=Ut.rewriteCookieProperty(v,s,"domain")),a&&l.toLowerCase()==="set-cookie"&&(v=Ut.rewriteCookieProperty(v,a,"path")),r.setHeader(String(l).trim(),v))};if(typeof s=="string"&&(s={"*":s}),typeof a=="string"&&(a={"*":a}),u&&n.rawHeaders!=null){p={};for(var i=0;i<n.rawHeaders.length;i+=2){var c=n.rawHeaders[i];p[c.toLowerCase()]=c}}Object.keys(n.headers).forEach(function(l){var v=n.headers[l];u&&p&&(l=p[l]||l),f(l,v)})},writeStatusCode:function(t,r,n){n.statusMessage?(r.statusCode=n.statusCode,r.statusMessage=n.statusMessage):r.statusCode=n.statusCode}},dt={exports:{}},ut={exports:{}},ze,Gt;function un(){if(Gt)return ze;Gt=1;var e=1e3,t=e*60,r=t*60,n=r*24,o=n*7,s=n*365.25;ze=function(i,c){c=c||{};var l=typeof i;if(l==="string"&&i.length>0)return a(i);if(l==="number"&&isFinite(i))return c.long?p(i):u(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function a(i){if(i=String(i),!(i.length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(c){var l=parseFloat(c[1]),v=(c[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*n;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*t;case"seconds":case"second":case"secs":case"sec":case"s":return l*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function u(i){var c=Math.abs(i);return c>=n?Math.round(i/n)+"d":c>=r?Math.round(i/r)+"h":c>=t?Math.round(i/t)+"m":c>=e?Math.round(i/e)+"s":i+"ms"}function p(i){var c=Math.abs(i);return c>=n?f(i,c,n,"day"):c>=r?f(i,c,r,"hour"):c>=t?f(i,c,t,"minute"):c>=e?f(i,c,e,"second"):i+" ms"}function f(i,c,l,v){var _=c>=l*1.5;return Math.round(i/l)+" "+v+(_?"s":"")}return ze}function cn(e){r.debug=r,r.default=r,r.coerce=p,r.disable=s,r.enable=o,r.enabled=a,r.humanize=un(),r.destroy=f,Object.keys(e).forEach(i=>{r[i]=e[i]}),r.names=[],r.skips=[],r.formatters={};function t(i){let c=0;for(let l=0;l<i.length;l++)c=(c<<5)-c+i.charCodeAt(l),c|=0;return r.colors[Math.abs(c)%r.colors.length]}r.selectColor=t;function r(i){let c,l=null,v,_;function h(...R){if(!h.enabled)return;const E=h,O=Number(new Date),m=O-(c||O);E.diff=m,E.prev=c,E.curr=O,c=O,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let T=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(U,D)=>{if(U==="%%")return"%";T++;const A=r.formatters[D];if(typeof A=="function"){const $=R[T];U=A.call(E,$),R.splice(T,1),T--}return U}),r.formatArgs.call(E,R),(E.log||r.log).apply(E,R)}return h.namespace=i,h.useColors=r.useColors(),h.color=r.selectColor(i),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(v!==r.namespaces&&(v=r.namespaces,_=r.enabled(i)),_),set:R=>{l=R}}),typeof r.init=="function"&&r.init(h),h}function n(i,c){const l=r(this.namespace+(typeof c>"u"?":":c)+i);return l.log=this.log,l}function o(i){r.save(i),r.namespaces=i,r.names=[],r.skips=[];let c;const l=(typeof i=="string"?i:"").split(/[\s,]+/),v=l.length;for(c=0;c<v;c++)l[c]&&(i=l[c].replace(/\*/g,".*?"),i[0]==="-"?r.skips.push(new RegExp("^"+i.slice(1)+"$")):r.names.push(new RegExp("^"+i+"$")))}function s(){const i=[...r.names.map(u),...r.skips.map(u).map(c=>"-"+c)].join(",");return r.enable(""),i}function a(i){if(i[i.length-1]==="*")return!0;let c,l;for(c=0,l=r.skips.length;c<l;c++)if(r.skips[c].test(i))return!1;for(c=0,l=r.names.length;c<l;c++)if(r.names[c].test(i))return!0;return!1}function u(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function p(i){return i instanceof Error?i.stack||i.message:i}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var ln=cn;(function(e,t){var r={};t.formatArgs=o,t.save=s,t.load=a,t.useColors=n,t.storage=u(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;f.splice(1,0,i,"color: inherit");let c=0,l=0;f[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(c++,v==="%c"&&(l=c))}),f.splice(l,0,i)}t.log=console.debug||console.log||(()=>{});function s(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function a(){let f;try{f=t.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=r.DEBUG),f}function u(){try{return localStorage}catch{}}e.exports=ln(t);const{formatters:p}=e.exports;p.j=function(f){try{return JSON.stringify(f)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(ut,ut.exports);var Er=ut.exports,ge,fn=function(){if(!ge){try{ge=Er("follow-redirects")}catch{}typeof ge!="function"&&(ge=function(){})}ge.apply(null,arguments)},Ce=H,be=Ce.URL,pn=H,hn=H,gt=H.Writable,_t=H,mr=fn;(function(){var t=typeof process<"u",r=typeof window<"u"&&typeof document<"u",n=ce(Error.captureStackTrace);!t&&(r||!n)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var yt=!1;try{_t(new be(""))}catch(e){yt=e.code==="ERR_INVALID_URL"}var dn=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Rt=["abort","aborted","connect","error","socket","timeout"],vt=Object.create(null);Rt.forEach(function(e){vt[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var ct=Ee("ERR_INVALID_URL","Invalid URL",TypeError),lt=Ee("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),gn=Ee("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",lt),_n=Ee("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),yn=Ee("ERR_STREAM_WRITE_AFTER_END","write after end"),Rn=gt.prototype.destroy||wr;function X(e,t){gt.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(o){r.emit("error",o instanceof lt?o:new lt({cause:o}))}},this._performRequest()}X.prototype=Object.create(gt.prototype);X.prototype.abort=function(){Ct(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};X.prototype.destroy=function(e){return Ct(this._currentRequest,e),Rn.call(this,e),this};X.prototype.write=function(e,t,r){if(this._ending)throw new yn;if(!ae(e)&&!Cn(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(ce(t)&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new _n),this.abort())};X.prototype.end=function(e,t,r){if(ce(e)?(r=e,e=t=null):ce(t)&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,o=this._currentRequest;this.write(e,t,function(){n._ended=!0,o.end(null,null,r)}),this._ending=!0}};X.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};X.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};X.prototype.setTimeout=function(e,t){var r=this;function n(a){a.setTimeout(e),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function o(a){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),s()},e),n(a)}function s(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",s),r.removeListener("error",s),r.removeListener("response",s),r.removeListener("close",s),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.on("abort",s),this.on("error",s),this.on("response",s),this.on("close",s),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){X.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(X.prototype,e,{get:function(){return this._currentRequest[e]}})});X.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};X.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);n._redirectable=this;for(var o of Rt)n.on(o,vt[o]);if(this._currentUrl=/^\//.test(this._options.path)?Ce.format(this._options):this._options.path,this._isRedirect){var s=0,a=this,u=this._requestBodyBuffers;(function p(f){if(n===a._currentRequest)if(f)a.emit("error",f);else if(s<u.length){var i=u[s++];n.finished||n.write(i.data,i.encoding,p)}else a._ended&&n.end()})()}};X.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(Ct(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new gn;var n,o=this._options.beforeRedirect;o&&(n=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var s=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Ze(/^content-/i,this._options.headers));var a=Ze(/^host$/i,this._options.headers),u=bt(this._currentUrl),p=a||u.host,f=/^\w+:/.test(r)?this._currentUrl:Ce.format(Object.assign(u,{host:p})),i=vn(r,f);if(mr("redirecting to",i.href),this._isRedirect=!0,ft(i,this._options),(i.protocol!==u.protocol&&i.protocol!=="https:"||i.host!==p&&!bn(i.host,p))&&Ze(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),ce(o)){var c={headers:e.headers,statusCode:t},l={url:f,method:s,headers:n};o(this._options,c,l),this._sanitizeOptions(this._options)}this._performRequest()};function Ar(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(n){var o=n+":",s=r[o]=e[n],a=t[n]=Object.create(s);function u(f,i,c){return En(f)?f=ft(f):ae(f)?f=ft(bt(f)):(c=i,i=xr(f),f={protocol:o}),ce(i)&&(c=i,i=null),i=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},f,i),i.nativeProtocols=r,!ae(i.host)&&!ae(i.hostname)&&(i.hostname="::1"),_t.equal(i.protocol,o,"protocol mismatch"),mr("options",i),new X(i,c)}function p(f,i,c){var l=a.request(f,i,c);return l.end(),l}Object.defineProperties(a,{request:{value:u,configurable:!0,enumerable:!0,writable:!0},get:{value:p,configurable:!0,enumerable:!0,writable:!0}})}),t}function wr(){}function bt(e){var t;if(yt)t=new be(e);else if(t=xr(Ce.parse(e)),!ae(t.protocol))throw new ct({input:e});return t}function vn(e,t){return yt?new be(e,t):bt(Ce.resolve(t,e))}function xr(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new ct({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new ct({input:e.href||e});return e}function ft(e,t){var r=t||{};for(var n of dn)r[n]=e[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Ze(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Ee(e,t,r){function n(o){ce(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,o||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function Ct(e,t){for(var r of Rt)e.removeListener(r,vt[r]);e.on("error",wr),e.destroy(t)}function bn(e,t){_t(ae(e)&&ae(t));var r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}function ae(e){return typeof e=="string"||e instanceof String}function ce(e){return typeof e=="function"}function Cn(e){return typeof e=="object"&&"length"in e}function En(e){return be&&e instanceof be}dt.exports=Ar({http:pn,https:hn});dt.exports.wrap=Ar;var mn=dt.exports,An=H,wn=H,Re=an,Pe=Be,xn=mn;Re=Object.keys(Re).map(function(e){return Re[e]});var On={http:An,https:wn};/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */var Sn={deleteLength:function(t,r,n){(t.method==="DELETE"||t.method==="OPTIONS")&&!t.headers["content-length"]&&(t.headers["content-length"]="0",delete t.headers["transfer-encoding"])},timeout:function(t,r,n){n.timeout&&t.socket.setTimeout(n.timeout)},XHeaders:function(t,r,n){if(n.xfwd){var o=t.isSpdy||Pe.hasEncryptedConnection(t),s={for:t.connection.remoteAddress||t.socket.remoteAddress,port:Pe.getPort(t),proto:o?"https":"http"};["for","port","proto"].forEach(function(a){t.headers["x-forwarded-"+a]=(t.headers["x-forwarded-"+a]||"")+(t.headers["x-forwarded-"+a]?",":"")+s[a]}),t.headers["x-forwarded-host"]=t.headers["x-forwarded-host"]||t.headers.host||""}},stream:function(t,r,n,o,s,a){s.emit("start",t,r,n.target||n.forward);var u=n.followRedirects?xn:On,p=u.http,f=u.https;if(n.forward){var i=(n.forward.protocol==="https:"?f:p).request(Pe.setupOutgoing(n.ssl||{},n,t,"forward")),c=_(i,n.forward);if(t.on("error",c),i.on("error",c),(n.buffer||t).pipe(i),!n.target)return r.end()}var l=(n.target.protocol==="https:"?f:p).request(Pe.setupOutgoing(n.ssl||{},n,t));l.on("socket",function(h){s&&!l.getHeader("expect")&&s.emit("proxyReq",l,t,r,n)}),n.proxyTimeout&&l.setTimeout(n.proxyTimeout,function(){l.abort()}),t.on("aborted",function(){l.abort()});var v=_(l,n.target);t.on("error",v),l.on("error",v);function _(h,R){return function(O){if(t.socket.destroyed&&O.code==="ECONNRESET")return s.emit("econnreset",O,t,r,R),h.abort();a?a(O,t,r,R):s.emit("error",O,t,r,R)}}(n.buffer||t).pipe(l),l.on("response",function(h){if(s&&s.emit("proxyRes",h,t,r),!r.headersSent&&!n.selfHandleResponse)for(var R=0;R<Re.length&&!Re[R](t,r,h,n);R++);r.finished?s&&s.emit("end",t,r,h):(h.on("end",function(){s&&s.emit("end",t,r,h)}),n.selfHandleResponse||h.pipe(r))})}},$n=H,Pn=H,le=Be;/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, socket, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */var Hn={checkMethodAndHeader:function(t,r){if(t.method!=="GET"||!t.headers.upgrade||t.headers.upgrade.toLowerCase()!=="websocket")return r.destroy(),!0},XHeaders:function(t,r,n){if(n.xfwd){var o={for:t.connection.remoteAddress||t.socket.remoteAddress,port:le.getPort(t),proto:le.hasEncryptedConnection(t)?"wss":"ws"};["for","port","proto"].forEach(function(s){t.headers["x-forwarded-"+s]=(t.headers["x-forwarded-"+s]||"")+(t.headers["x-forwarded-"+s]?",":"")+o[s]})}},stream:function(t,r,n,o,s,a){var u=function(i,c){return Object.keys(c).reduce(function(l,v){var _=c[v];if(!Array.isArray(_))return l.push(v+": "+_),l;for(var h=0;h<_.length;h++)l.push(v+": "+_[h]);return l},[i]).join(`\r
`)+`\r
\r
`};le.setupSocket(r),o&&o.length&&r.unshift(o);var p=(le.isSSL.test(n.target.protocol)?Pn:$n).request(le.setupOutgoing(n.ssl||{},n,t));return s&&s.emit("proxyReqWs",p,t,r,n,o),p.on("error",f),p.on("response",function(i){i.upgrade||(r.write(u("HTTP/"+i.httpVersion+" "+i.statusCode+" "+i.statusMessage,i.headers)),i.pipe(r))}),p.on("upgrade",function(i,c,l){c.on("error",f),c.on("end",function(){s.emit("close",i,c,l)}),r.on("error",function(){c.end()}),le.setupSocket(c),l&&l.length&&c.unshift(l),r.write(u("HTTP/1.1 101 Switching Protocols",i.headers)),c.pipe(r).pipe(c),s.emit("open",c),s.emit("proxySocket",c)}),p.end();function f(i){a?a(i,t,r):s.emit("error",i,t,r),r.end()}}};(function(e){var t=e.exports,r=H._extend,n=H.parse,o=nn,s=H,a=H,u=Sn,p=Hn;t.Server=i;function f(c){return function(l){return function(v,_){var h=c==="ws"?this.wsPasses:this.webPasses,R=[].slice.call(arguments),E=R.length-1,O,m;typeof R[E]=="function"&&(m=R[E],E--);var T=l;if(!(R[E]instanceof Buffer)&&R[E]!==_&&(T=r({},l),r(T,R[E]),E--),R[E]instanceof Buffer&&(O=R[E]),["target","forward"].forEach(function(U){typeof T[U]=="string"&&(T[U]=n(T[U]))}),!T.target&&!T.forward)return this.emit("error",new Error("Must provide a proper URL as target"));for(var P=0;P<h.length&&!h[P](v,_,T,O,this,m);P++);}}}t.createRightProxy=f;function i(c){o.call(this),c=c||{},c.prependPath=c.prependPath!==!1,this.web=this.proxyRequest=f("web")(c),this.ws=this.proxyWebsocketRequest=f("ws")(c),this.options=c,this.webPasses=Object.keys(u).map(function(l){return u[l]}),this.wsPasses=Object.keys(p).map(function(l){return p[l]}),this.on("error",this.onError,this)}H.inherits(i,o),i.prototype.onError=function(c){if(this.listeners("error").length===1)throw c},i.prototype.listen=function(c,l){var v=this,_=function(h,R){v.web(h,R)};return this._server=this.options.ssl?a.createServer(this.options.ssl,_):s.createServer(_),this.options.ws&&this._server.on("upgrade",function(h,R,E){v.ws(h,R,E)}),this._server.listen(c,l),this},i.prototype.close=function(c){var l=this;this._server&&this._server.close(v);function v(){l._server=null,c&&c.apply(null,arguments)}},i.prototype.before=function(c,l,v){if(c!=="ws"&&c!=="web")throw new Error("type must be `web` or `ws`");var _=c==="ws"?this.wsPasses:this.webPasses,h=!1;if(_.forEach(function(R,E){R.name===l&&(h=E)}),h===!1)throw new Error("No such pass");_.splice(h,0,v)},i.prototype.after=function(c,l,v){if(c!=="ws"&&c!=="web")throw new Error("type must be `web` or `ws`");var _=c==="ws"?this.wsPasses:this.webPasses,h=!1;if(_.forEach(function(R,E){R.name===l&&(h=E)}),h===!1)throw new Error("No such pass");_.splice(h++,0,v)}})(br);var Tn=br.exports,me=Tn.Server;function Et(e){return new me(e)}me.createProxyServer=Et;me.createServer=Et;me.createProxy=Et;var Ln=me;/*!
 * Caron dimonio, con occhi di bragia
 * loro accennando, tutte le raccoglie;
 * batte col remo qualunque s’adagia 
 *
 * Charon the demon, with the eyes of glede,
 * Beckoning to them, collects them all together,
 * Beats with his oar whoever lags behind
 *          
 *          Dante - The Divine Comedy (Canto III)
 */var Mn=Ln,mt={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.ERRORS=void 0;var Kt;(function(e){e.ERR_CONFIG_FACTORY_TARGET_MISSING='[HPM] Missing "target" option. Example: {target: "http://www.example.org"}',e.ERR_CONTEXT_MATCHER_GENERIC='[HPM] Invalid pathFilter. Expecting something like: "/api" or ["/api", "/ajax"]',e.ERR_CONTEXT_MATCHER_INVALID_ARRAY='[HPM] Invalid pathFilter. Plain paths (e.g. "/api") can not be mixed with globs (e.g. "/api/**"). Expecting something like: ["/api", "/ajax"] or ["/api/**", "!**.html"].',e.ERR_PATH_REWRITER_CONFIG="[HPM] Invalid pathRewrite config. Expecting object with pathRewrite config or a rewrite function"})(Kt||(de.ERRORS=Kt={}));Object.defineProperty(mt,"__esModule",{value:!0});mt.verifyConfig=In;const Nn=de;function In(e){if(!e.target&&!e.router)throw new Error(Nn.ERRORS.ERR_CONFIG_FACTORY_TARGET_MISSING)}var At={},wt={},je={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.Debug=void 0;const Fn=Er;Z.Debug=Fn("http-proxy-middleware");Object.defineProperty(je,"__esModule",{value:!0});je.debugProxyErrorsPlugin=void 0;const Bn=Z,se=Bn.Debug.extend("debug-proxy-errors-plugin"),jn=e=>{e.on("error",(t,r,n,o)=>{se(`http-proxy error event: 
%O`,t)}),e.on("proxyReq",(t,r,n)=>{n.on("error",o=>{se(`Socket error in proxyReq event: 
%O`,o)})}),e.on("proxyRes",(t,r,n)=>{n.on("close",()=>{n.writableEnded||(se("Destroying proxyRes in proxyRes close event"),t.destroy())})}),e.on("proxyReqWs",(t,r,n)=>{n.on("error",o=>{se(`Socket error in proxyReqWs event: 
%O`,o)})}),e.on("open",t=>{t.on("error",r=>{se(`Socket error in open event: 
%O`,r)})}),e.on("close",(t,r,n)=>{r.on("error",o=>{se(`Socket error in close event: 
%O`,o)})}),e.on("econnreset",(t,r,n,o)=>{se(`http-proxy econnreset event: 
%O`,t)})};je.debugProxyErrorsPlugin=jn;var De={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.getStatusCode=Dn;function Dn(e){let t;if(/HPE_INVALID/.test(e))t=502;else switch(e){case"ECONNRESET":case"ENOTFOUND":case"ECONNREFUSED":case"ETIMEDOUT":t=504;break;default:t=500;break}return t}Object.defineProperty(De,"__esModule",{value:!0});De.errorResponsePlugin=void 0;const kn=xt,Un=(e,t)=>{e.on("error",(r,n,o,s)=>{if(!n&&!o)throw r;if("writeHead"in o&&!o.headersSent){const u=(0,kn.getStatusCode)(r.code);o.writeHead(u)}const a=n.headers&&n.headers.host;o.end(`Error occurred while trying to proxy: ${a}${n.url}`)})};De.errorResponsePlugin=Un;var ke={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getLogger=Kn;const Gn={info:()=>{},warn:()=>{},error:()=>{}};function Kn(e){return e.logger||Gn}var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getPort=Wn;function Wn(e){var t,r;return(r=(t=Object.keys(e||{}))==null?void 0:t[0])==null?void 0:r.split(":")[1]}Object.defineProperty(ke,"__esModule",{value:!0});ke.loggerPlugin=void 0;const Wt=H,Xn=Ue,Qn=Ot,qn=(e,t)=>{const r=(0,Xn.getLogger)(t);e.on("error",(n,o,s,a)=>{var l;const p=`${(l=o==null?void 0:o.headers)==null?void 0:l.host}${o==null?void 0:o.url}`,f=`${a==null?void 0:a.href}`;r.error("[HPM] Error occurred while proxying request %s to %s [%s] (%s)",p,f,n.code||n,"https://nodejs.org/api/errors.html#errors_common_system_errors")}),e.on("proxyRes",(n,o,s)=>{var i,c;const a=o.originalUrl??`${o.baseUrl||""}${o.url}`;let u;try{const l=(0,Qn.getPort)((c=(i=n.req)==null?void 0:i.agent)==null?void 0:c.sockets),v={protocol:n.req.protocol,host:n.req.host,pathname:n.req.path};u=new Wt.URL(`${v.protocol}//${v.host}${v.pathname}`),l&&(u.port=l)}catch{u=new Wt.URL(t.target),u.pathname=n.req.path}const p=u.toString(),f=`[HPM] ${o.method} ${a} -> ${p} [${n.statusCode}]`;r.info(f)}),e.on("open",n=>{r.info("[HPM] Client connected: %o",n.address())}),e.on("close",(n,o,s)=>{r.info("[HPM] Client disconnected: %o",o.address())})};ke.loggerPlugin=qn;var Ge={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.getFunctionName=zn;function zn(e){return e.name||"[anonymous Function]"}Object.defineProperty(Ge,"__esModule",{value:!0});Ge.proxyEventsPlugin=void 0;const Zn=Z,Yn=Ae,Vn=Zn.Debug.extend("proxy-events-plugin"),Jn=(e,t)=>{Object.entries(t.on||{}).forEach(([r,n])=>{Vn(`register event handler: "${r}" -> "${(0,Yn.getFunctionName)(n)}"`),e.on(r,n)})};Ge.proxyEventsPlugin=Jn;(function(e){var t=G&&G.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,u)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=G&&G.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(je,e),r(De,e),r(ke,e),r(Ge,e)})(wt);Object.defineProperty(At,"__esModule",{value:!0});At.getPlugins=eo;const He=wt;function eo(e){var o;const t=(o=e.on)!=null&&o.error?[]:[He.errorResponsePlugin],r=e.ejectPlugins?[]:[He.debugProxyErrorsPlugin,He.proxyEventsPlugin,He.loggerPlugin,...t],n=e.plugins??[];return[...r,...n]}var St={};/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var to=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1};/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ro=to,Or={"{":"}","(":")","[":"]"},no=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,o=-2,s=-2,a=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(a===-1||a>n||(a=e.indexOf("\\",t),a===-1||a>n)))||o!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(o=e.indexOf("}",t),o>t&&(a=e.indexOf("\\",t),a===-1||a>o))||s!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(s=e.indexOf(")",t),s>t&&(a=e.indexOf("\\",t),a===-1||a>s))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(s=e.indexOf(")",r),s>r&&(a=e.indexOf("\\",r),a===-1||a>s))))return!0;if(e[t]==="\\"){var u=e[t+1];t+=2;var p=Or[u];if(p){var f=e.indexOf(p,t);f!==-1&&(t=f+1)}if(e[t]==="!")return!0}else t++}return!1},oo=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=Or[r];if(n){var o=e.indexOf(n,t);o!==-1&&(t=o+1)}if(e[t]==="!")return!0}else t++}return!1},so=function(t,r){if(typeof t!="string"||t==="")return!1;if(ro(t))return!0;var n=no;return r&&r.strict===!1&&(n=oo),n(t)},Ke={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,r)=>t.nodes.find(n=>n.type===r),e.exceedsLimit=(t,r,n=1,o)=>o===!1||!e.isInteger(t)||!e.isInteger(r)?!1:(Number(r)-Number(t))/Number(n)>=o,e.escapeNode=(t,r=0,n)=>{const o=t.nodes[r];o&&(n&&o.type===n||o.type==="open"||o.type==="close")&&o.escaped!==!0&&(o.value="\\"+o.value,o.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((r,n)=>(n.type==="text"&&r.push(n.value),n.type==="range"&&(n.type="text"),r),[]),e.flatten=(...t)=>{const r=[],n=o=>{for(let s=0;s<o.length;s++){const a=o[s];if(Array.isArray(a)){n(a);continue}a!==void 0&&r.push(a)}return r};return n(t),r}})(Ke);const Xt=Ke;var $t=(e,t={})=>{const r=(n,o={})=>{const s=t.escapeInvalid&&Xt.isInvalidBrace(o),a=n.invalid===!0&&t.escapeInvalid===!0;let u="";if(n.value)return(s||a)&&Xt.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(const p of n.nodes)u+=r(p);return u};return r(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var io=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Qt=io,ue=(e,t,r)=>{if(Qt(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Qt(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let o=String(n.relaxZeros),s=String(n.shorthand),a=String(n.capture),u=String(n.wrap),p=e+":"+t+"="+o+s+a+u;if(ue.cache.hasOwnProperty(p))return ue.cache[p].result;let f=Math.min(e,t),i=Math.max(e,t);if(Math.abs(f-i)===1){let h=e+"|"+t;return n.capture?`(${h})`:n.wrap===!1?h:`(?:${h})`}let c=Jt(e)||Jt(t),l={min:e,max:t,a:f,b:i},v=[],_=[];if(c&&(l.isPadded=c,l.maxLen=String(l.max).length),f<0){let h=i<0?Math.abs(i):1;_=qt(h,Math.abs(f),l,n),f=l.a=0}return i>=0&&(v=qt(f,i,l,n)),l.negatives=_,l.positives=v,l.result=ao(_,v),n.capture===!0?l.result=`(${l.result})`:n.wrap!==!1&&v.length+_.length>1&&(l.result=`(?:${l.result})`),ue.cache[p]=l,l.result};function ao(e,t,r){let n=Ye(e,t,"-",!1)||[],o=Ye(t,e,"",!1)||[],s=Ye(e,t,"-?",!0)||[];return n.concat(s).concat(o).join("|")}function uo(e,t){let r=1,n=1,o=Zt(e,r),s=new Set([t]);for(;e<=o&&o<=t;)s.add(o),r+=1,o=Zt(e,r);for(o=Yt(t+1,n)-1;e<o&&o<=t;)s.add(o),n+=1,o=Yt(t+1,n)-1;return s=[...s],s.sort(fo),s}function co(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=lo(e,t),o=n.length,s="",a=0;for(let u=0;u<o;u++){let[p,f]=n[u];p===f?s+=p:p!=="0"||f!=="9"?s+=po(p,f):a++}return a&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[a],digits:o}}function qt(e,t,r,n){let o=uo(e,t),s=[],a=e,u;for(let p=0;p<o.length;p++){let f=o[p],i=co(String(a),String(f),n),c="";if(!r.isPadded&&u&&u.pattern===i.pattern){u.count.length>1&&u.count.pop(),u.count.push(i.count[0]),u.string=u.pattern+Vt(u.count),a=f+1;continue}r.isPadded&&(c=ho(f,r,n)),i.string=c+i.pattern+Vt(i.count),s.push(i),a=f+1,u=i}return s}function Ye(e,t,r,n,o){let s=[];for(let a of e){let{string:u}=a;!n&&!zt(t,"string",u)&&s.push(r+u),n&&zt(t,"string",u)&&s.push(r+u)}return s}function lo(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function fo(e,t){return e>t?1:t>e?-1:0}function zt(e,t,r){return e.some(n=>n[t]===r)}function Zt(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Yt(e,t){return e-e%Math.pow(10,t)}function Vt(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function po(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Jt(e){return/^-?(0+)\d/.test(e)}function ho(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),o=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${n}}`:`0{${n}}`}}ue.cache={};ue.clearCache=()=>ue.cache={};var go=ue;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const _o=H,Sr=go,er=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),yo=e=>t=>e===!0?Number(t):String(t),Ve=e=>typeof e=="number"||typeof e=="string"&&e!=="",ve=e=>Number.isInteger(+e),Je=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Ro=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,vo=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Le=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},bo=(e,t,r)=>{e.negatives.sort((u,p)=>u<p?-1:u>p?1:0),e.positives.sort((u,p)=>u<p?-1:u>p?1:0);let n=t.capture?"":"?:",o="",s="",a;return e.positives.length&&(o=e.positives.map(u=>Le(String(u),r)).join("|")),e.negatives.length&&(s=`-(${n}${e.negatives.map(u=>Le(String(u),r)).join("|")})`),o&&s?a=`${o}|${s}`:a=o||s,t.wrap?`(${n}${a})`:a},$r=(e,t,r,n)=>{if(r)return Sr(e,t,{wrap:!1,...n});let o=String.fromCharCode(e);if(e===t)return o;let s=String.fromCharCode(t);return`[${o}-${s}]`},Pr=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,o=r.capture?"":"?:";return n?`(${o}${e.join("|")})`:e.join("|")}return Sr(e,t,r)},Hr=(...e)=>new RangeError("Invalid range arguments: "+_o.inspect(...e)),Tr=(e,t,r)=>{if(r.strictRanges===!0)throw Hr([e,t]);return[]},Co=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Eo=(e,t,r=1,n={})=>{let o=Number(e),s=Number(t);if(!Number.isInteger(o)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Hr([e,t]);return[]}o===0&&(o=0),s===0&&(s=0);let a=o>s,u=String(e),p=String(t),f=String(r);r=Math.max(Math.abs(r),1);let i=Je(u)||Je(p)||Je(f),c=i?Math.max(u.length,p.length,f.length):0,l=i===!1&&Ro(e,t,n)===!1,v=n.transform||yo(l);if(n.toRegex&&r===1)return $r(Le(e,c),Le(t,c),!0,n);let _={negatives:[],positives:[]},h=O=>_[O<0?"negatives":"positives"].push(Math.abs(O)),R=[],E=0;for(;a?o>=s:o<=s;)n.toRegex===!0&&r>1?h(o):R.push(vo(v(o,E),c,l)),o=a?o-r:o+r,E++;return n.toRegex===!0?r>1?bo(_,n,c):Pr(R,null,{wrap:!1,...n}):R},mo=(e,t,r=1,n={})=>{if(!ve(e)&&e.length>1||!ve(t)&&t.length>1)return Tr(e,t,n);let o=n.transform||(l=>String.fromCharCode(l)),s=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),u=s>a,p=Math.min(s,a),f=Math.max(s,a);if(n.toRegex&&r===1)return $r(p,f,!1,n);let i=[],c=0;for(;u?s>=a:s<=a;)i.push(o(s,c)),s=u?s-r:s+r,c++;return n.toRegex===!0?Pr(i,null,{wrap:!1,options:n}):i},Te=(e,t,r,n={})=>{if(t==null&&Ve(e))return[e];if(!Ve(e)||!Ve(t))return Tr(e,t,n);if(typeof r=="function")return Te(e,t,1,{transform:r});if(er(r))return Te(e,t,0,r);let o={...n};return o.capture===!0&&(o.wrap=!0),r=r||o.step||1,ve(r)?ve(e)&&ve(t)?Eo(e,t,r,o):mo(e,t,Math.max(Math.abs(r),1),o):r!=null&&!er(r)?Co(r,o):Te(e,t,1,r)};var Lr=Te;const Ao=Lr,tr=Ke,wo=(e,t={})=>{const r=(n,o={})=>{const s=tr.isInvalidBrace(o),a=n.invalid===!0&&t.escapeInvalid===!0,u=s===!0||a===!0,p=t.escapeInvalid===!0?"\\":"";let f="";if(n.isOpen===!0)return p+n.value;if(n.isClose===!0)return console.log("node.isClose",p,n.value),p+n.value;if(n.type==="open")return u?p+n.value:"(";if(n.type==="close")return u?p+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":u?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){const i=tr.reduce(n.nodes),c=Ao(...i,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(c.length!==0)return i.length>1&&c.length>1?`(${c})`:c}if(n.nodes)for(const i of n.nodes)f+=r(i,n);return f};return r(e)};var xo=wo;const Oo=Lr,rr=$t,pe=Ke,ie=(e="",t="",r=!1)=>{const n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?pe.flatten(t).map(o=>`{${o}}`):t;for(const o of e)if(Array.isArray(o))for(const s of o)n.push(ie(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?ie(o,s,r):o+s);return pe.flatten(n)},So=(e,t={})=>{const r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(o,s={})=>{o.queue=[];let a=s,u=s.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,u=a.queue;if(o.invalid||o.dollar){u.push(ie(u.pop(),rr(o,t)));return}if(o.type==="brace"&&o.invalid!==!0&&o.nodes.length===2){u.push(ie(u.pop(),["{}"]));return}if(o.nodes&&o.ranges>0){const c=pe.reduce(o.nodes);if(pe.exceedsLimit(...c,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=Oo(...c,t);l.length===0&&(l=rr(o,t)),u.push(ie(u.pop(),l)),o.nodes=[];return}const p=pe.encloseBrace(o);let f=o.queue,i=o;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,f=i.queue;for(let c=0;c<o.nodes.length;c++){const l=o.nodes[c];if(l.type==="comma"&&o.type==="brace"){c===1&&f.push(""),f.push("");continue}if(l.type==="close"){u.push(ie(u.pop(),f,p));continue}if(l.value&&l.type!=="open"){f.push(ie(f.pop(),l.value));continue}l.nodes&&n(l,o)}return f};return pe.flatten(n(e))};var $o=So,Po={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Ho=$t,{MAX_LENGTH:nr,CHAR_BACKSLASH:et,CHAR_BACKTICK:To,CHAR_COMMA:Lo,CHAR_DOT:Mo,CHAR_LEFT_PARENTHESES:No,CHAR_RIGHT_PARENTHESES:Io,CHAR_LEFT_CURLY_BRACE:Fo,CHAR_RIGHT_CURLY_BRACE:Bo,CHAR_LEFT_SQUARE_BRACKET:or,CHAR_RIGHT_SQUARE_BRACKET:sr,CHAR_DOUBLE_QUOTE:jo,CHAR_SINGLE_QUOTE:Do,CHAR_NO_BREAK_SPACE:ko,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Uo}=Po,Go=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const r=t||{},n=typeof r.maxLength=="number"?Math.min(nr,r.maxLength):nr;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);const o={type:"root",input:e,nodes:[]},s=[o];let a=o,u=o,p=0;const f=e.length;let i=0,c=0,l;const v=()=>e[i++],_=h=>{if(h.type==="text"&&u.type==="dot"&&(u.type="text"),u&&u.type==="text"&&h.type==="text"){u.value+=h.value;return}return a.nodes.push(h),h.parent=a,h.prev=u,u=h,h};for(_({type:"bos"});i<f;)if(a=s[s.length-1],l=v(),!(l===Uo||l===ko)){if(l===et){_({type:"text",value:(t.keepEscaping?l:"")+v()});continue}if(l===sr){_({type:"text",value:"\\"+l});continue}if(l===or){p++;let h;for(;i<f&&(h=v());){if(l+=h,h===or){p++;continue}if(h===et){l+=v();continue}if(h===sr&&(p--,p===0))break}_({type:"text",value:l});continue}if(l===No){a=_({type:"paren",nodes:[]}),s.push(a),_({type:"text",value:l});continue}if(l===Io){if(a.type!=="paren"){_({type:"text",value:l});continue}a=s.pop(),_({type:"text",value:l}),a=s[s.length-1];continue}if(l===jo||l===Do||l===To){const h=l;let R;for(t.keepQuotes!==!0&&(l="");i<f&&(R=v());){if(R===et){l+=R+v();continue}if(R===h){t.keepQuotes===!0&&(l+=R);break}l+=R}_({type:"text",value:l});continue}if(l===Fo){c++;const R={type:"brace",open:!0,close:!1,dollar:u.value&&u.value.slice(-1)==="$"||a.dollar===!0,depth:c,commas:0,ranges:0,nodes:[]};a=_(R),s.push(a),_({type:"open",value:l});continue}if(l===Bo){if(a.type!=="brace"){_({type:"text",value:l});continue}const h="close";a=s.pop(),a.close=!0,_({type:h,value:l}),c--,a=s[s.length-1];continue}if(l===Lo&&c>0){if(a.ranges>0){a.ranges=0;const h=a.nodes.shift();a.nodes=[h,{type:"text",value:Ho(a)}]}_({type:"comma",value:l}),a.commas++;continue}if(l===Mo&&c>0&&a.commas===0){const h=a.nodes;if(c===0||h.length===0){_({type:"text",value:l});continue}if(u.type==="dot"){if(a.range=[],u.value+=l,u.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,u.type="text";continue}a.ranges++,a.args=[];continue}if(u.type==="range"){h.pop();const R=h[h.length-1];R.value+=u.value+l,u=R,a.ranges--;continue}_({type:"dot",value:l});continue}_({type:"text",value:l})}do if(a=s.pop(),a.type!=="root"){a.nodes.forEach(E=>{E.nodes||(E.type==="open"&&(E.isOpen=!0),E.type==="close"&&(E.isClose=!0),E.nodes||(E.type="text"),E.invalid=!0)});const h=s[s.length-1],R=h.nodes.indexOf(a);h.nodes.splice(R,1,...a.nodes)}while(s.length>0);return _({type:"eos"}),o};var Ko=Go;const ir=$t,Wo=xo,Xo=$o,Qo=Ko,z=(e,t={})=>{let r=[];if(Array.isArray(e))for(const n of e){const o=z.create(n,t);Array.isArray(o)?r.push(...o):r.push(o)}else r=[].concat(z.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};z.parse=(e,t={})=>Qo(e,t);z.stringify=(e,t={})=>ir(typeof e=="string"?z.parse(e,t):e,t);z.compile=(e,t={})=>(typeof e=="string"&&(e=z.parse(e,t)),Wo(e,t));z.expand=(e,t={})=>{typeof e=="string"&&(e=z.parse(e,t));let r=Xo(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};z.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?z.compile(e,t):z.expand(e,t);var qo=z,we={};const zo=H,J="\\\\/",ar=`[^${J}]`,re="\\.",Zo="\\+",Yo="\\?",We="\\/",Vo="(?=.)",Mr="[^/]",Pt=`(?:${We}|$)`,Nr=`(?:^|${We})`,Ht=`${re}{1,2}${Pt}`,Jo=`(?!${re})`,es=`(?!${Nr}${Ht})`,ts=`(?!${re}{0,1}${Pt})`,rs=`(?!${Ht})`,ns=`[^.${We}]`,os=`${Mr}*?`,Ir={DOT_LITERAL:re,PLUS_LITERAL:Zo,QMARK_LITERAL:Yo,SLASH_LITERAL:We,ONE_CHAR:Vo,QMARK:Mr,END_ANCHOR:Pt,DOTS_SLASH:Ht,NO_DOT:Jo,NO_DOTS:es,NO_DOT_SLASH:ts,NO_DOTS_SLASH:rs,QMARK_NO_DOT:ns,STAR:os,START_ANCHOR:Nr},ss={...Ir,SLASH_LITERAL:`[${J}]`,QMARK:ar,STAR:`${ar}*?`,DOTS_SLASH:`${re}{1,2}(?:[${J}]|$)`,NO_DOT:`(?!${re})`,NO_DOTS:`(?!(?:^|[${J}])${re}{1,2}(?:[${J}]|$))`,NO_DOT_SLASH:`(?!${re}{0,1}(?:[${J}]|$))`,NO_DOTS_SLASH:`(?!${re}{1,2}(?:[${J}]|$))`,QMARK_NO_DOT:`[^.${J}]`,START_ANCHOR:`(?:^|[${J}])`,END_ANCHOR:`(?:[${J}]|$)`},is={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Xe={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:is,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:zo.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?ss:Ir}};(function(e){const t=H,r=process.platform==="win32",{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:a}=Xe;e.isObject=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),e.hasRegexChars=u=>s.test(u),e.isRegexChar=u=>u.length===1&&e.hasRegexChars(u),e.escapeRegex=u=>u.replace(a,"\\$1"),e.toPosixSlashes=u=>u.replace(n,"/"),e.removeBackslashes=u=>u.replace(o,p=>p==="\\"?"":p),e.supportsLookbehinds=()=>{const u=process.version.slice(1).split(".").map(Number);return u.length===3&&u[0]>=9||u[0]===8&&u[1]>=10},e.isWindows=u=>u&&typeof u.windows=="boolean"?u.windows:r===!0||t.sep==="\\",e.escapeLast=(u,p,f)=>{const i=u.lastIndexOf(p,f);return i===-1?u:u[i-1]==="\\"?e.escapeLast(u,p,i-1):`${u.slice(0,i)}\\${u.slice(i)}`},e.removePrefix=(u,p={})=>{let f=u;return f.startsWith("./")&&(f=f.slice(2),p.prefix="./"),f},e.wrapOutput=(u,p={},f={})=>{const i=f.contains?"":"^",c=f.contains?"":"$";let l=`${i}(?:${u})${c}`;return p.negated===!0&&(l=`(?:^(?!${l}).*$)`),l}})(we);const ur=we,{CHAR_ASTERISK:tt,CHAR_AT:as,CHAR_BACKWARD_SLASH:ye,CHAR_COMMA:us,CHAR_DOT:rt,CHAR_EXCLAMATION_MARK:nt,CHAR_FORWARD_SLASH:Fr,CHAR_LEFT_CURLY_BRACE:ot,CHAR_LEFT_PARENTHESES:st,CHAR_LEFT_SQUARE_BRACKET:cs,CHAR_PLUS:ls,CHAR_QUESTION_MARK:cr,CHAR_RIGHT_CURLY_BRACE:fs,CHAR_RIGHT_PARENTHESES:lr,CHAR_RIGHT_SQUARE_BRACKET:ps}=Xe,fr=e=>e===Fr||e===ye,pr=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},hs=(e,t)=>{const r=t||{},n=e.length-1,o=r.parts===!0||r.scanToEnd===!0,s=[],a=[],u=[];let p=e,f=-1,i=0,c=0,l=!1,v=!1,_=!1,h=!1,R=!1,E=!1,O=!1,m=!1,T=!1,P=!1,U=0,D,A,$={value:"",depth:0,isGlob:!1};const k=()=>f>=n,y=()=>p.charCodeAt(f+1),I=()=>(D=A,p.charCodeAt(++f));for(;f<n;){A=I();let K;if(A===ye){O=$.backslashes=!0,A=I(),A===ot&&(E=!0);continue}if(E===!0||A===ot){for(U++;k()!==!0&&(A=I());){if(A===ye){O=$.backslashes=!0,I();continue}if(A===ot){U++;continue}if(E!==!0&&A===rt&&(A=I())===rt){if(l=$.isBrace=!0,_=$.isGlob=!0,P=!0,o===!0)continue;break}if(E!==!0&&A===us){if(l=$.isBrace=!0,_=$.isGlob=!0,P=!0,o===!0)continue;break}if(A===fs&&(U--,U===0)){E=!1,l=$.isBrace=!0,P=!0;break}}if(o===!0)continue;break}if(A===Fr){if(s.push(f),a.push($),$={value:"",depth:0,isGlob:!1},P===!0)continue;if(D===rt&&f===i+1){i+=2;continue}c=f+1;continue}if(r.noext!==!0&&(A===ls||A===as||A===tt||A===cr||A===nt)===!0&&y()===st){if(_=$.isGlob=!0,h=$.isExtglob=!0,P=!0,A===nt&&f===i&&(T=!0),o===!0){for(;k()!==!0&&(A=I());){if(A===ye){O=$.backslashes=!0,A=I();continue}if(A===lr){_=$.isGlob=!0,P=!0;break}}continue}break}if(A===tt){if(D===tt&&(R=$.isGlobstar=!0),_=$.isGlob=!0,P=!0,o===!0)continue;break}if(A===cr){if(_=$.isGlob=!0,P=!0,o===!0)continue;break}if(A===cs){for(;k()!==!0&&(K=I());){if(K===ye){O=$.backslashes=!0,I();continue}if(K===ps){v=$.isBracket=!0,_=$.isGlob=!0,P=!0;break}}if(o===!0)continue;break}if(r.nonegate!==!0&&A===nt&&f===i){m=$.negated=!0,i++;continue}if(r.noparen!==!0&&A===st){if(_=$.isGlob=!0,o===!0){for(;k()!==!0&&(A=I());){if(A===st){O=$.backslashes=!0,A=I();continue}if(A===lr){P=!0;break}}continue}break}if(_===!0){if(P=!0,o===!0)continue;break}}r.noext===!0&&(h=!1,_=!1);let L=p,ne="",d="";i>0&&(ne=p.slice(0,i),p=p.slice(i),c-=i),L&&_===!0&&c>0?(L=p.slice(0,c),d=p.slice(c)):_===!0?(L="",d=p):L=p,L&&L!==""&&L!=="/"&&L!==p&&fr(L.charCodeAt(L.length-1))&&(L=L.slice(0,-1)),r.unescape===!0&&(d&&(d=ur.removeBackslashes(d)),L&&O===!0&&(L=ur.removeBackslashes(L)));const g={prefix:ne,input:e,start:i,base:L,glob:d,isBrace:l,isBracket:v,isGlob:_,isExtglob:h,isGlobstar:R,negated:m,negatedExtglob:T};if(r.tokens===!0&&(g.maxDepth=0,fr(A)||a.push($),g.tokens=a),r.parts===!0||r.tokens===!0){let K;for(let S=0;S<s.length;S++){const Y=K?K+1:i,V=s[S],Q=e.slice(Y,V);r.tokens&&(S===0&&i!==0?(a[S].isPrefix=!0,a[S].value=ne):a[S].value=Q,pr(a[S]),g.maxDepth+=a[S].depth),(S!==0||Q!=="")&&u.push(Q),K=V}if(K&&K+1<e.length){const S=e.slice(K+1);u.push(S),r.tokens&&(a[a.length-1].value=S,pr(a[a.length-1]),g.maxDepth+=a[a.length-1].depth)}g.slashes=s,g.parts=u}return g};var ds=hs;const Me=Xe,q=we,{MAX_LENGTH:Ne,POSIX_REGEX_SOURCE:gs,REGEX_NON_SPECIAL_CHARS:_s,REGEX_SPECIAL_CHARS_BACKREF:ys,REPLACEMENTS:Br}=Me,Rs=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(o=>q.escapeRegex(o)).join("..")}return r},fe=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Tt=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Br[e]||e;const r={...t},n=typeof r.maxLength=="number"?Math.min(Ne,r.maxLength):Ne;let o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);const s={type:"bos",value:"",output:r.prepend||""},a=[s],u=r.capture?"":"?:",p=q.isWindows(t),f=Me.globChars(p),i=Me.extglobChars(f),{DOT_LITERAL:c,PLUS_LITERAL:l,SLASH_LITERAL:v,ONE_CHAR:_,DOTS_SLASH:h,NO_DOT:R,NO_DOT_SLASH:E,NO_DOTS_SLASH:O,QMARK:m,QMARK_NO_DOT:T,STAR:P,START_ANCHOR:U}=f,D=C=>`(${u}(?:(?!${U}${C.dot?h:c}).)*?)`,A=r.dot?"":R,$=r.dot?m:T;let k=r.bash===!0?D(r):P;r.capture&&(k=`(${k})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);const y={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=q.removePrefix(e,y),o=e.length;const I=[],L=[],ne=[];let d=s,g;const K=()=>y.index===o-1,S=y.peek=(C=1)=>e[y.index+C],Y=y.advance=()=>e[++y.index]||"",V=()=>e.slice(y.index+1),Q=(C="",M=0)=>{y.consumed+=C,y.index+=M},xe=C=>{y.output+=C.output!=null?C.output:C.value,Q(C.value)},Yr=()=>{let C=1;for(;S()==="!"&&(S(2)!=="("||S(3)==="?");)Y(),y.start++,C++;return C%2===0?!1:(y.negated=!0,y.start++,!0)},Oe=C=>{y[C]++,ne.push(C)},oe=C=>{y[C]--,ne.pop()},x=C=>{if(d.type==="globstar"){const M=y.braces>0&&(C.type==="comma"||C.type==="brace"),b=C.extglob===!0||I.length&&(C.type==="pipe"||C.type==="paren");C.type!=="slash"&&C.type!=="paren"&&!M&&!b&&(y.output=y.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=k,y.output+=d.output)}if(I.length&&C.type!=="paren"&&(I[I.length-1].inner+=C.value),(C.value||C.output)&&xe(C),d&&d.type==="text"&&C.type==="text"){d.value+=C.value,d.output=(d.output||"")+C.value;return}C.prev=d,a.push(C),d=C},Se=(C,M)=>{const b={...i[M],conditions:1,inner:""};b.prev=d,b.parens=y.parens,b.output=y.output;const w=(r.capture?"(":"")+b.open;Oe("parens"),x({type:C,value:M,output:y.output?"":_}),x({type:"paren",extglob:!0,value:Y(),output:w}),I.push(b)},Vr=C=>{let M=C.close+(r.capture?")":""),b;if(C.type==="negate"){let w=k;if(C.inner&&C.inner.length>1&&C.inner.includes("/")&&(w=D(r)),(w!==k||K()||/^\)+$/.test(V()))&&(M=C.close=`)$))${w}`),C.inner.includes("*")&&(b=V())&&/^\.[^\\/.]+$/.test(b)){const F=Tt(b,{...t,fastpaths:!1}).output;M=C.close=`)${F})${w})`}C.prev.type==="bos"&&(y.negatedExtglob=!0)}x({type:"paren",extglob:!0,value:g,output:M}),oe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let C=!1,M=e.replace(ys,(b,w,F,W,j,qe)=>W==="\\"?(C=!0,b):W==="?"?w?w+W+(j?m.repeat(j.length):""):qe===0?$+(j?m.repeat(j.length):""):m.repeat(F.length):W==="."?c.repeat(F.length):W==="*"?w?w+W+(j?k:""):k:w?b:`\\${b}`);return C===!0&&(r.unescape===!0?M=M.replace(/\\/g,""):M=M.replace(/\\+/g,b=>b.length%2===0?"\\\\":b?"\\":"")),M===e&&r.contains===!0?(y.output=e,y):(y.output=q.wrapOutput(M,y,t),y)}for(;!K();){if(g=Y(),g==="\0")continue;if(g==="\\"){const b=S();if(b==="/"&&r.bash!==!0||b==="."||b===";")continue;if(!b){g+="\\",x({type:"text",value:g});continue}const w=/^\\+/.exec(V());let F=0;if(w&&w[0].length>2&&(F=w[0].length,y.index+=F,F%2!==0&&(g+="\\")),r.unescape===!0?g=Y():g+=Y(),y.brackets===0){x({type:"text",value:g});continue}}if(y.brackets>0&&(g!=="]"||d.value==="["||d.value==="[^")){if(r.posix!==!1&&g===":"){const b=d.value.slice(1);if(b.includes("[")&&(d.posix=!0,b.includes(":"))){const w=d.value.lastIndexOf("["),F=d.value.slice(0,w),W=d.value.slice(w+2),j=gs[W];if(j){d.value=F+j,y.backtrack=!0,Y(),!s.output&&a.indexOf(d)===1&&(s.output=_);continue}}}(g==="["&&S()!==":"||g==="-"&&S()==="]")&&(g=`\\${g}`),g==="]"&&(d.value==="["||d.value==="[^")&&(g=`\\${g}`),r.posix===!0&&g==="!"&&d.value==="["&&(g="^"),d.value+=g,xe({value:g});continue}if(y.quotes===1&&g!=='"'){g=q.escapeRegex(g),d.value+=g,xe({value:g});continue}if(g==='"'){y.quotes=y.quotes===1?0:1,r.keepQuotes===!0&&x({type:"text",value:g});continue}if(g==="("){Oe("parens"),x({type:"paren",value:g});continue}if(g===")"){if(y.parens===0&&r.strictBrackets===!0)throw new SyntaxError(fe("opening","("));const b=I[I.length-1];if(b&&y.parens===b.parens+1){Vr(I.pop());continue}x({type:"paren",value:g,output:y.parens?")":"\\)"}),oe("parens");continue}if(g==="["){if(r.nobracket===!0||!V().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(fe("closing","]"));g=`\\${g}`}else Oe("brackets");x({type:"bracket",value:g});continue}if(g==="]"){if(r.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){x({type:"text",value:g,output:`\\${g}`});continue}if(y.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(fe("opening","["));x({type:"text",value:g,output:`\\${g}`});continue}oe("brackets");const b=d.value.slice(1);if(d.posix!==!0&&b[0]==="^"&&!b.includes("/")&&(g=`/${g}`),d.value+=g,xe({value:g}),r.literalBrackets===!1||q.hasRegexChars(b))continue;const w=q.escapeRegex(d.value);if(y.output=y.output.slice(0,-d.value.length),r.literalBrackets===!0){y.output+=w,d.value=w;continue}d.value=`(${u}${w}|${d.value})`,y.output+=d.value;continue}if(g==="{"&&r.nobrace!==!0){Oe("braces");const b={type:"brace",value:g,output:"(",outputIndex:y.output.length,tokensIndex:y.tokens.length};L.push(b),x(b);continue}if(g==="}"){const b=L[L.length-1];if(r.nobrace===!0||!b){x({type:"text",value:g,output:g});continue}let w=")";if(b.dots===!0){const F=a.slice(),W=[];for(let j=F.length-1;j>=0&&(a.pop(),F[j].type!=="brace");j--)F[j].type!=="dots"&&W.unshift(F[j].value);w=Rs(W,r),y.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){const F=y.output.slice(0,b.outputIndex),W=y.tokens.slice(b.tokensIndex);b.value=b.output="\\{",g=w="\\}",y.output=F;for(const j of W)y.output+=j.output||j.value}x({type:"brace",value:g,output:w}),oe("braces"),L.pop();continue}if(g==="|"){I.length>0&&I[I.length-1].conditions++,x({type:"text",value:g});continue}if(g===","){let b=g;const w=L[L.length-1];w&&ne[ne.length-1]==="braces"&&(w.comma=!0,b="|"),x({type:"comma",value:g,output:b});continue}if(g==="/"){if(d.type==="dot"&&y.index===y.start+1){y.start=y.index+1,y.consumed="",y.output="",a.pop(),d=s;continue}x({type:"slash",value:g,output:v});continue}if(g==="."){if(y.braces>0&&d.type==="dot"){d.value==="."&&(d.output=c);const b=L[L.length-1];d.type="dots",d.output+=g,d.value+=g,b.dots=!0;continue}if(y.braces+y.parens===0&&d.type!=="bos"&&d.type!=="slash"){x({type:"text",value:g,output:c});continue}x({type:"dot",value:g,output:c});continue}if(g==="?"){if(!(d&&d.value==="(")&&r.noextglob!==!0&&S()==="("&&S(2)!=="?"){Se("qmark",g);continue}if(d&&d.type==="paren"){const w=S();let F=g;if(w==="<"&&!q.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(w)||w==="<"&&!/<([!=]|\w+>)/.test(V()))&&(F=`\\${g}`),x({type:"text",value:g,output:F});continue}if(r.dot!==!0&&(d.type==="slash"||d.type==="bos")){x({type:"qmark",value:g,output:T});continue}x({type:"qmark",value:g,output:m});continue}if(g==="!"){if(r.noextglob!==!0&&S()==="("&&(S(2)!=="?"||!/[!=<:]/.test(S(3)))){Se("negate",g);continue}if(r.nonegate!==!0&&y.index===0){Yr();continue}}if(g==="+"){if(r.noextglob!==!0&&S()==="("&&S(2)!=="?"){Se("plus",g);continue}if(d&&d.value==="("||r.regex===!1){x({type:"plus",value:g,output:l});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||y.parens>0){x({type:"plus",value:g});continue}x({type:"plus",value:l});continue}if(g==="@"){if(r.noextglob!==!0&&S()==="("&&S(2)!=="?"){x({type:"at",extglob:!0,value:g,output:""});continue}x({type:"text",value:g});continue}if(g!=="*"){(g==="$"||g==="^")&&(g=`\\${g}`);const b=_s.exec(V());b&&(g+=b[0],y.index+=b[0].length),x({type:"text",value:g});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=g,d.output=k,y.backtrack=!0,y.globstar=!0,Q(g);continue}let C=V();if(r.noextglob!==!0&&/^\([^?]/.test(C)){Se("star",g);continue}if(d.type==="star"){if(r.noglobstar===!0){Q(g);continue}const b=d.prev,w=b.prev,F=b.type==="slash"||b.type==="bos",W=w&&(w.type==="star"||w.type==="globstar");if(r.bash===!0&&(!F||C[0]&&C[0]!=="/")){x({type:"star",value:g,output:""});continue}const j=y.braces>0&&(b.type==="comma"||b.type==="brace"),qe=I.length&&(b.type==="pipe"||b.type==="paren");if(!F&&b.type!=="paren"&&!j&&!qe){x({type:"star",value:g,output:""});continue}for(;C.slice(0,3)==="/**";){const $e=e[y.index+4];if($e&&$e!=="/")break;C=C.slice(3),Q("/**",3)}if(b.type==="bos"&&K()){d.type="globstar",d.value+=g,d.output=D(r),y.output=d.output,y.globstar=!0,Q(g);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!W&&K()){y.output=y.output.slice(0,-(b.output+d.output).length),b.output=`(?:${b.output}`,d.type="globstar",d.output=D(r)+(r.strictSlashes?")":"|$)"),d.value+=g,y.globstar=!0,y.output+=b.output+d.output,Q(g);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&C[0]==="/"){const $e=C[1]!==void 0?"|$":"";y.output=y.output.slice(0,-(b.output+d.output).length),b.output=`(?:${b.output}`,d.type="globstar",d.output=`${D(r)}${v}|${v}${$e})`,d.value+=g,y.output+=b.output+d.output,y.globstar=!0,Q(g+Y()),x({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&C[0]==="/"){d.type="globstar",d.value+=g,d.output=`(?:^|${v}|${D(r)}${v})`,y.output=d.output,y.globstar=!0,Q(g+Y()),x({type:"slash",value:"/",output:""});continue}y.output=y.output.slice(0,-d.output.length),d.type="globstar",d.output=D(r),d.value+=g,y.output+=d.output,y.globstar=!0,Q(g);continue}const M={type:"star",value:g,output:k};if(r.bash===!0){M.output=".*?",(d.type==="bos"||d.type==="slash")&&(M.output=A+M.output),x(M);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&r.regex===!0){M.output=g,x(M);continue}(y.index===y.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(y.output+=E,d.output+=E):r.dot===!0?(y.output+=O,d.output+=O):(y.output+=A,d.output+=A),S()!=="*"&&(y.output+=_,d.output+=_)),x(M)}for(;y.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(fe("closing","]"));y.output=q.escapeLast(y.output,"["),oe("brackets")}for(;y.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(fe("closing",")"));y.output=q.escapeLast(y.output,"("),oe("parens")}for(;y.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(fe("closing","}"));y.output=q.escapeLast(y.output,"{"),oe("braces")}if(r.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&x({type:"maybe_slash",value:"",output:`${v}?`}),y.backtrack===!0){y.output="";for(const C of y.tokens)y.output+=C.output!=null?C.output:C.value,C.suffix&&(y.output+=C.suffix)}return y};Tt.fastpaths=(e,t)=>{const r={...t},n=typeof r.maxLength=="number"?Math.min(Ne,r.maxLength):Ne,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);e=Br[e]||e;const s=q.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:u,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:i,NO_DOTS:c,NO_DOTS_SLASH:l,STAR:v,START_ANCHOR:_}=Me.globChars(s),h=r.dot?c:i,R=r.dot?l:i,E=r.capture?"":"?:",O={negated:!1,prefix:""};let m=r.bash===!0?".*?":v;r.capture&&(m=`(${m})`);const T=A=>A.noglobstar===!0?m:`(${E}(?:(?!${_}${A.dot?f:a}).)*?)`,P=A=>{switch(A){case"*":return`${h}${p}${m}`;case".*":return`${a}${p}${m}`;case"*.*":return`${h}${m}${a}${p}${m}`;case"*/*":return`${h}${m}${u}${p}${R}${m}`;case"**":return h+T(r);case"**/*":return`(?:${h}${T(r)}${u})?${R}${p}${m}`;case"**/*.*":return`(?:${h}${T(r)}${u})?${R}${m}${a}${p}${m}`;case"**/.*":return`(?:${h}${T(r)}${u})?${a}${p}${m}`;default:{const $=/^(.*?)\.(\w+)$/.exec(A);if(!$)return;const k=P($[1]);return k?k+a+$[2]:void 0}}},U=q.removePrefix(e,O);let D=P(U);return D&&r.strictSlashes!==!0&&(D+=`${u}?`),D};var vs=Tt;const bs=H,Cs=ds,pt=vs,Lt=we,Es=Xe,ms=e=>e&&typeof e=="object"&&!Array.isArray(e),B=(e,t,r=!1)=>{if(Array.isArray(e)){const i=e.map(l=>B(l,t,r));return l=>{for(const v of i){const _=v(l);if(_)return _}return!1}}const n=ms(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");const o=t||{},s=Lt.isWindows(t),a=n?B.compileRe(e,t):B.makeRe(e,t,!1,!0),u=a.state;delete a.state;let p=()=>!1;if(o.ignore){const i={...t,ignore:null,onMatch:null,onResult:null};p=B(o.ignore,i,r)}const f=(i,c=!1)=>{const{isMatch:l,match:v,output:_}=B.test(i,a,t,{glob:e,posix:s}),h={glob:e,state:u,regex:a,posix:s,input:i,output:_,match:v,isMatch:l};return typeof o.onResult=="function"&&o.onResult(h),l===!1?(h.isMatch=!1,c?h:!1):p(i)?(typeof o.onIgnore=="function"&&o.onIgnore(h),h.isMatch=!1,c?h:!1):(typeof o.onMatch=="function"&&o.onMatch(h),c?h:!0)};return r&&(f.state=u),f};B.test=(e,t,r,{glob:n,posix:o}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=r||{},a=s.format||(o?Lt.toPosixSlashes:null);let u=e===n,p=u&&a?a(e):e;return u===!1&&(p=a?a(e):e,u=p===n),(u===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?u=B.matchBase(e,t,r,o):u=t.exec(p)),{isMatch:!!u,match:u,output:p}};B.matchBase=(e,t,r,n=Lt.isWindows(r))=>(t instanceof RegExp?t:B.makeRe(t,r)).test(bs.basename(e));B.isMatch=(e,t,r)=>B(t,r)(e);B.parse=(e,t)=>Array.isArray(e)?e.map(r=>B.parse(r,t)):pt(e,{...t,fastpaths:!1});B.scan=(e,t)=>Cs(e,t);B.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;const o=t||{},s=o.contains?"":"^",a=o.contains?"":"$";let u=`${s}(?:${e.output})${a}`;e&&e.negated===!0&&(u=`^(?!${u}).*$`);const p=B.toRegex(u,t);return n===!0&&(p.state=e),p};B.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(o.output=pt.fastpaths(e,t)),o.output||(o=pt(e,t)),B.compileRe(o,t,r,n)};B.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};B.constants=Es;var As=B,ws=As;const jr=H,Dr=qo,ee=ws,ht=we,hr=e=>e===""||e==="./",kr=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},N=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,o=new Set,s=new Set,a=0,u=i=>{s.add(i.output),r&&r.onResult&&r.onResult(i)};for(let i=0;i<t.length;i++){let c=ee(String(t[i]),{...r,onResult:u},!0),l=c.state.negated||c.state.negatedExtglob;l&&a++;for(let v of e){let _=c(v,!0);(l?!_.isMatch:_.isMatch)&&(l?n.add(_.output):(n.delete(_.output),o.add(_.output)))}}let f=(a===t.length?[...s]:[...o]).filter(i=>!n.has(i));if(r&&f.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(i=>i.replace(/\\/g,"")):t}return f};N.match=N;N.matcher=(e,t)=>ee(e,t);N.isMatch=(e,t,r)=>ee(t,r)(e);N.any=N.isMatch;N.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,o=[],s=u=>{r.onResult&&r.onResult(u),o.push(u.output)},a=new Set(N(e,t,{...r,onResult:s}));for(let u of o)a.has(u)||n.add(u);return[...n]};N.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${jr.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>N.contains(e,n,r));if(typeof t=="string"){if(hr(e)||hr(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return N.isMatch(e,t,{...r,contains:!0})};N.matchKeys=(e,t,r)=>{if(!ht.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=N(Object.keys(e),t,r),o={};for(let s of n)o[s]=e[s];return o};N.some=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=ee(String(o),r);if(n.some(a=>s(a)))return!0}return!1};N.every=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=ee(String(o),r);if(!n.every(a=>s(a)))return!1}return!0};N.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${jr.inspect(e)}"`);return[].concat(t).every(n=>ee(n,r)(e))};N.capture=(e,t,r)=>{let n=ht.isWindows(r),s=ee.makeRe(String(e),{...r,capture:!0}).exec(n?ht.toPosixSlashes(t):t);if(s)return s.slice(1).map(a=>a===void 0?"":a)};N.makeRe=(...e)=>ee.makeRe(...e);N.scan=(...e)=>ee.scan(...e);N.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let o of Dr(String(n),t))r.push(ee.parse(o,t));return r};N.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!kr(e)?[e]:Dr(e,t)};N.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return N.braces(e,{...t,expand:!0})};N.hasBraces=kr;var xs=N;Object.defineProperty(St,"__esModule",{value:!0});St.matchPathFilter=$s;const Ur=so,Os=xs,Ss=H,dr=de;function $s(e="/",t,r){if(gr(e))return Gr(e,t);if(_r(e))return Kr(e,t);if(Array.isArray(e)){if(e.every(gr))return Hs(e,t);if(e.every(_r))return Ps(e,t);throw new Error(dr.ERRORS.ERR_CONTEXT_MATCHER_INVALID_ARRAY)}if(typeof e=="function"){const n=Mt(t);return e(n,r)}throw new Error(dr.ERRORS.ERR_CONTEXT_MATCHER_GENERIC)}function Gr(e,t){const r=Mt(t);return(r==null?void 0:r.indexOf(e))===0}function Kr(e,t){const r=Mt(t),n=Os([r],e);return n&&n.length>0}function Ps(e,t){return Kr(e,t)}function Hs(e,t){let r=!1;for(const n of e)if(Gr(n,t)){r=!0;break}return r}function Mt(e){return e&&Ss.parse(e).pathname}function gr(e){return typeof e=="string"&&!Ur(e)}function _r(e){return Ur(e)}var Nt={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function yr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ts(e){var t,r;return yr(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(yr(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}Qe.isPlainObject=Ts;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.createPathRewriter=Ns;const Wr=Qe,Ls=de,Ms=Z,Xr=Ms.Debug.extend("path-rewriter");function Ns(e){let t;if(!Is(e))return;if(typeof e=="function")return e;return t=Fs(e),r;function r(n){let o=n;for(const s of t)if(s.regex.test(n)){o=o.replace(s.regex,s.value),Xr('rewriting path from "%s" to "%s"',n,o);break}return o}}function Is(e){if(typeof e=="function")return!0;if((0,Wr.isPlainObject)(e))return Object.keys(e).length!==0;if(e==null)return!1;throw new Error(Ls.ERRORS.ERR_PATH_REWRITER_CONFIG)}function Fs(e){const t=[];if((0,Wr.isPlainObject)(e))for(const[r,n]of Object.entries(e))t.push({regex:new RegExp(r),value:n}),Xr('rewrite rule created: "%s" ~> "%s"',r,n);return t}var It={};Object.defineProperty(It,"__esModule",{value:!0});It.getTarget=Ds;const Bs=Qe,js=Z,Rr=js.Debug.extend("router");async function Ds(e,t){let r;const n=t.router;return(0,Bs.isPlainObject)(n)?r=ks(e,n):typeof n=="function"&&(r=await n(e)),r}function ks(e,t){let r;const n=e.headers.host,o=e.url,s=n+o;for(const[a,u]of Object.entries(t))if(Us(a)){if(s.indexOf(a)>-1){r=u,Rr('match: "%s" -> "%s"',a,r);break}}else if(a===n){r=u,Rr('match: "%s" -> "%s"',n,r);break}return r}function Us(e){return e.indexOf("/")>-1}Object.defineProperty(Fe,"__esModule",{value:!0});Fe.HttpProxyMiddleware=void 0;const Gs=Mn,Ks=mt,Ws=At,Xs=St,Qs=Nt,qs=It,te=Z,zs=Ae;class Zs{constructor(t){this.wsInternalSubscribed=!1,this.serverOnCloseSubscribed=!1,this.middleware=async(r,n,o)=>{var a;if(this.shouldProxy(this.proxyOptions.pathFilter,r))try{const u=await this.prepareProxyRequest(r);(0,te.Debug)("proxy request to target: %O",u.target),this.proxy.web(r,n,u)}catch(u){o==null||o(u)}else o==null||o();const s=(a=r.socket??r.connection)==null?void 0:a.server;s&&!this.serverOnCloseSubscribed&&(s.on("close",()=>{(0,te.Debug)("server close signal received: closing proxy server"),this.proxy.close()}),this.serverOnCloseSubscribed=!0),this.proxyOptions.ws===!0&&this.catchUpgradeRequest(s)},this.catchUpgradeRequest=r=>{this.wsInternalSubscribed||((0,te.Debug)("subscribing to server upgrade event"),r.on("upgrade",this.handleUpgrade),this.wsInternalSubscribed=!0)},this.handleUpgrade=async(r,n,o)=>{if(this.shouldProxy(this.proxyOptions.pathFilter,r)){const s=await this.prepareProxyRequest(r);this.proxy.ws(r,n,o,s),(0,te.Debug)("server upgrade event received. Proxying WebSocket")}},this.shouldProxy=(r,n)=>(0,Xs.matchPathFilter)(r,n.url,n),this.prepareProxyRequest=async r=>{this.middleware.__LEGACY_HTTP_PROXY_MIDDLEWARE__&&(r.url=r.originalUrl||r.url);const n=Object.assign({},this.proxyOptions);return await this.applyRouter(r,n),await this.applyPathRewrite(r,this.pathRewriter),n},this.applyRouter=async(r,n)=>{let o;n.router&&(o=await qs.getTarget(r,n),o&&((0,te.Debug)('router new target: "%s"',o),n.target=o))},this.applyPathRewrite=async(r,n)=>{if(n){const o=await n(r.url,r);typeof o=="string"?((0,te.Debug)("pathRewrite new path: %s",r.url),r.url=o):(0,te.Debug)("pathRewrite: no rewritten path found: %s",r.url)}},(0,Ks.verifyConfig)(t),this.proxyOptions=t,(0,te.Debug)("create proxy server"),this.proxy=Gs.createProxyServer({}),this.registerPlugins(this.proxy,this.proxyOptions),this.pathRewriter=Qs.createPathRewriter(this.proxyOptions.pathRewrite),this.middleware.upgrade=(r,n,o)=>{this.wsInternalSubscribed||this.handleUpgrade(r,n,o)}}registerPlugins(t,r){(0,Ws.getPlugins)(r).forEach(o=>{(0,te.Debug)(`register plugin: "${(0,zs.getFunctionName)(o)}"`),o(t,r)})}}Fe.HttpProxyMiddleware=Zs;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.createProxyMiddleware=Vs;const Ys=Fe;function Vs(e){const{middleware:t}=new Ys.HttpProxyMiddleware(e);return t}var Qr={},qr={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.responseInterceptor=ti;const it=H,Js=Z,ei=Ae,he=Js.Debug.extend("response-interceptor");function ti(e){return async function(r,n,o){he("intercept proxy response");const s=r;let a=Buffer.from("","utf8");const u=ri(r,r.headers["content-encoding"]);u.on("data",p=>a=Buffer.concat([a,p])),u.on("end",async()=>{ni(r,o),he("call interceptor function: %s",(0,ei.getFunctionName)(e));const p=Buffer.from(await e(a,s,n,o));he("set content-length: %s",Buffer.byteLength(p,"utf8")),o.setHeader("content-length",Buffer.byteLength(p,"utf8")),he("write intercepted response"),o.write(p),o.end()}),u.on("error",p=>{o.end(`Error fetching proxied request: ${p.message}`)})}}function ri(e,t){let r=e,n;switch(t){case"gzip":n=it.createGunzip();break;case"br":n=it.createBrotliDecompress();break;case"deflate":n=it.createInflate();break}return n&&(he("decompress proxy response with 'content-encoding': %s",t),r.pipe(n),r=n),r}function ni(e,t){if(he("copy original response headers"),t.statusCode=e.statusCode,t.statusMessage=e.statusMessage,t.setHeader){let r=Object.keys(e.headers);r=r.filter(n=>!["content-encoding","transfer-encoding"].includes(n)),r.forEach(n=>{let o=e.headers[n];n==="set-cookie"&&(o=Array.isArray(o)?o:[o],o=o.map(s=>s.replace(/Domain=[^;]+?/i,""))),t.setHeader(n,o)})}else t.headers=e.headers}var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.fixRequestBody=si;const oi=H;function si(e,t){const r=t.body;if(!r)return;const n=e.getHeader("Content-Type"),o=s=>{e.setHeader("Content-Length",Buffer.byteLength(s)),e.write(s)};n&&(n.includes("application/json")||n.includes("+json"))&&o(JSON.stringify(r)),n&&n.includes("application/x-www-form-urlencoded")&&o(oi.stringify(r))}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixRequestBody=e.responseInterceptor=void 0;var t=Ft;Object.defineProperty(e,"responseInterceptor",{enumerable:!0,get:function(){return t.responseInterceptor}});var r=Bt;Object.defineProperty(e,"fixRequestBody",{enumerable:!0,get:function(){return r.fixRequestBody}})})(qr);(function(e){var t=G&&G.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,u)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=G&&G.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(qr,e)})(Qr);var zr={},Zr={},jt={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.legacyOptionsAdapter=li;const ii=H,ai=Z,ui=Ue,_e=ai.Debug.extend("legacy-options-adapter"),ci={onError:"error",onProxyReq:"proxyReq",onProxyRes:"proxyRes",onProxyReqWs:"proxyReqWs",onOpen:"open",onClose:"close"};function li(e,t){let r={},n;if(typeof e=="string"&&ii.parse(e).host)throw new Error(`Shorthand syntax is removed from legacyCreateProxyMiddleware().
      Please use "legacyCreateProxyMiddleware({ target: 'http://www.example.org' })" instead.

      More details: https://github.com/chimurai/http-proxy-middleware/blob/master/MIGRATION.md#removed-shorthand-usage
      `);e&&t?(_e("map legacy context/filter to options.pathFilter"),r={...t,pathFilter:e},n=at(r),n.warn(`[http-proxy-middleware] Legacy "context" argument is deprecated. Migrate your "context" to "options.pathFilter":

      const options = {
        pathFilter: '${e}',
      }

      More details: https://github.com/chimurai/http-proxy-middleware/blob/master/MIGRATION.md#removed-context-argument
      `)):e&&!t?(r={...e},n=at(r)):n=at({}),Object.entries(ci).forEach(([a,u])=>{r[a]&&(r.on={...r.on},r.on[u]=r[a],_e('map legacy event "%s" to "on.%s"',a,u),n.warn(`[http-proxy-middleware] Legacy "${a}" is deprecated. Migrate to "options.on.${u}":

        const options = {
          on: {
            ${u}: () => {},
          },
        }

        More details: https://github.com/chimurai/http-proxy-middleware/blob/master/MIGRATION.md#refactored-proxy-events
        `))});const o=r.logProvider&&r.logProvider(),s=r.logLevel;return _e("legacy logLevel",s),_e("legacy logProvider: %O",o),typeof s=="string"&&s!=="silent"&&(_e('map "logProvider" to "logger"'),n.warn(`[http-proxy-middleware] Legacy "logLevel" and "logProvider" are deprecated. Migrate to "options.logger":

      const options = {
        logger: console,
      }

      More details: https://github.com/chimurai/http-proxy-middleware/blob/master/MIGRATION.md#removed-logprovider-and-loglevel-options
      `)),r}function at(e){const t=e.logProvider&&e.logProvider();return t&&(e.logger=t),(0,ui.getLogger)(e)}Object.defineProperty(jt,"__esModule",{value:!0});jt.legacyCreateProxyMiddleware=di;const fi=Ie,pi=Z,hi=Dt,vr=pi.Debug.extend("legacy-create-proxy-middleware");function di(e,t){vr("init");const r=(0,hi.legacyOptionsAdapter)(e,t),n=(0,fi.createProxyMiddleware)(r);return vr("add marker for patching req.url (old behavior)"),n.__LEGACY_HTTP_PROXY_MIDDLEWARE__=!0,n}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.legacyCreateProxyMiddleware=void 0;var t=jt;Object.defineProperty(e,"legacyCreateProxyMiddleware",{enumerable:!0,get:function(){return t.legacyCreateProxyMiddleware}})})(Zr);(function(e){var t=G&&G.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,u)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=G&&G.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Zr,e)})(zr);(function(e){var t=G&&G.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,u)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=G&&G.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ie,e),r(Qr,e),r(wt,e),r(zr,e)})(en);const _i=defineEventHandler(e=>{});export{_i as default};
